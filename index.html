<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="The official page of the EconomyCraft Olympics">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Econolympics Leaderboard</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <style>

    body {
      font-family: 'Roboto', sans-serif;
      color: black;
      margin: 0;
      padding: 0;
      border: 0;
      font-size: 100%;
      vertical-align: baseline;
    }

    #container {
      width: 80%;
      height: auto;
      margin: 0 auto;
      list-style: none;
      counter-reset: li;
    }

    .row {
      width: 100%;
      height: 40px;
      border: 1px solid #ececec;
      border-radius: 2px;
      margin-bottom: 10px;
      box-shadow: 2px 4px 22px -14px rgba(0,0,0,0.8);
      -webkit-box-shadow: 2px 4px 22px -14px rgba(0,0,0,0.8);
      -moz-box-shadow: 2px 4px 22px -14px rgba(0,0,0,0.8);
      transition: 0.3s;
      counter-increment: li;
    }

    .row::before {
      content: counter(li);
      color: black;
      display: inline-block;
      width: 1em;
      margin-left: -2em;
      font-weight: bold;
    }

    .row:hover {
      transform: scale(1.03, 1.03);
      filter: brightness(98%);
    }

    .name {
      width: 50%;
      line-height: 40px;
      padding-left: 20px;
      border-radius: 10px;
    }

    .score {
      width: auto;
      float: right;
      margin-top: 12px;
      margin-right: 10px;
    }

    .row:nth-child(1) {
      background: #54e5e5;
      border: 1px solid #54e5e5;
      color: white;
    }

    .row:nth-child(2) {
      background: #e8c55f;
      border: 1px solid #e8c55f;
      color: white;
    }

    .row:nth-child(3) {
      background: #bcbcbc;
      border: 1px solid #bcbcbc;
      color: white;
    }

    img {
      margin-top: 27px;
      width: 200px;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }

    .event {
      border: 1px solid #ececec;
      width: 40vw;
      height: 40vw;
      text-align: center;
      border-radius: 4px;
      box-sizing: border-box;
      margin: 10px;
      box-shadow: 2px 4px 22px -14px rgba(0,0,0,0.8);
      -webkit-box-shadow: 2px 4px 22px -14px rgba(0,0,0,0.8);
      -moz-box-shadow: 2px 4px 22px -14px rgba(0,0,0,0.8);
      overflow: auto;
      padding: 20px;
    }

    .event-container {
      display: flex;
      flex-wrap: wrap;
      padding: 5px;
      justify-content: center;
    }

    @media only screen and (min-width: 919px) {
      .event {
        width: 28vw;
        height: 28vw;
      }
    }
    </style>
  </head>
    <body>
      <img src="totallynottheolympics.png">
      <h1 align="center">Econolympics Leaderboard</h1>
      <h3 align="center">Note: It may take a few seconds for leaderboard to update.</h3>
      <ol id="container">
        <li class="row"><span class="name" id="name1">[1]</span><span class="score" id="score1">[SCORE]</span>
        <li class="row"><span class="name" id="name2">[2]</span><span class="score" id="score2">[SCORE]</span>
        <li class="row"><span class="name" id="name3">[3]</span><span class="score" id="score3">[SCORE]</span>
        <li class="row"><span class="name" id="name4">[4]</span><span class="score" id="score4">[SCORE]</span>
        <li class="row"><span class="name" id="name5">[5]</span><span class="score" id="score5">[SCORE]</span>
        <li class="row"><span class="name" id="name6">[6]</span><span class="score" id="score6">[SCORE]</span>
        <li class="row"><span class="name" id="name7">[7]</span><span class="score" id="score7">[SCORE]</span>
        <li class="row"><span class="name" id="name8">[8]</span><span class="score" id="score8">[SCORE]</span>
        <li class="row"><span class="name" id="name9">[9]</span><span class="score" id="score9">[SCORE]</span>
        <li class="row"><span class="name" id="name10">[10]</span><span class="score" id="score10">[SCORE]</span>
        <li class="row"><span class="name" id="name11">[11]</span><span class="score" id="score11">[SCORE]</span>
        <li class="row"><span class="name" id="name12">[12]</span><span class="score" id="score12">[SCORE]</span>
      </ol>
      <h1 align="center">Info</h1>
      <p align="center">See <a href="#">this informative message</a> for details.</p>
      <div class="event-container">
        <div class="event">
          <h2>Bacon Bash</h2>
          <p>All players race around a MarioKart-style track on pig steeds.</p>
        </div>
        <div class="event">
          <h2>BS Tower Game</h2>
          <p>Two players climb to the top of ButterScotch Tower to reach the Flag first.</p>
        </div>
        <div class="event">
          <h2>Sumo Smash</h2>
          <p>12 players battle to the death on elevated platforms. The last one standing wins.</p>
        </div>
        <div class="event">
          <h2>Arrow Action</h2>
          <p>Archers have three shots at moving and static targets. The best hits win!</p>
       </div>
        <div class="event">
          <h2>Boat Joust</h2>
          <p>Athletes joust on ice boat tracks at high speeds. Kill the other to win!</p>
       </div>
    </div>
      <script>
       // auto-sorting script
        document.addEventListener('DOMContentLoaded', () => {
          let elements = []
          let container = document.querySelector('#container')
          // Add each row to the array
          container.querySelectorAll('.row').forEach(el => elements.push(el))
          // Clear the container
          container.innerHTML = ''
          // Sort the array from highest to lowest
          elements.sort((a, b) => b.querySelector('.score').textContent - a.querySelector('.score').textContent)
          // Put the elements back into the container
          elements.forEach(e => container.appendChild(e))
       })

       // players object
       var playersObj = {
        "player1": {
          "username": "PLAYER1",
          "id": 1,
          "score": 0
        },
        "player2": {
          "username": "PLAYER2",
          "id": 2,
          "score": 0
        },
        "player3": {
          "username": "PLAYER3",
          "id": 3,
          "score": 0
        },
        "player4": {
          "username": "PLAYER4",
          "id": 4,
          "score": 0
        },
        "player5": {
          "username": "PLAYER5",
          "id": 5,
          "score": 0
        },
        "player6": {
          "username": "PLAYER6",
          "id": 6,
          "score": 0
        },
        "player7": {
          "username": "PLAYER7",
          "id": 7,
          "score": 0
        },
        "player8": {
          "username": "PLAYER8",
          "id": 8,
          "score": 0
        },
        "player9": {
          "username": "PLAYER9",
          "id": 9,
          "score": 0
        },
        "player10": {
          "username": "PLAYER10",
          "id": 10,
          "score": 0
        },
        "player11": {
          "username": "PLAYER11",
          "id": 11,
          "score": 0
        },
        "player12": {
          "username": "PLAYER12",
          "id": 12,
          "score": 0
        }
      };

      var players = ["player1", "player2", "player3", "player4", "player5", "player6", "player7", "player8", "player9", "player10", "player11", "player12", "player13", "player14", "player15", "player16", "player17", "player18", "player19", "player20"];

        // run through every value of "players"
        for (var i = 0; i < players.length; i++) {
              // describe the username variable as the current player's username
              var username = playersObj[players[i]].username;
              // describe the score variable as the current player's score
              var score = playersObj[players[i]].score;
              // describe the playerName variable as the name element of the current player being looped through
              var playerName = document.getElementById("name" + playersObj[players[i]].id);
              // describe the playerScore variable as the score element of the current player being looped through
              var playerScore = document.getElementById("score" + playersObj[players[i]].id);
              // set the innerHTML of these elements to the current player being looped through's username and score!
              playerName.innerHTML = username;
              playerScore.innerHTML = score;
        }
      </script>
    </body>
  </html>
